{"ast":null,"code":"var _jsxFileName = \"C:\\\\Auth\\\\Institute-Food-Review-System-menu-team\\\\Institute-Food-Review-System-menu-team\\\\frontend\\\\src\\\\Components\\\\From\\\\Review2.js\",\n    _s = $RefreshSig$();\n\nimport Navbar from \"../Navbar\";\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport ReactStars from \"react-rating-stars-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Review2() {\n  _s();\n\n  const itemdata = useSelector(state => state.foodItem.data);\n  const formlike = useSelector(state => state.defForm.like);\n  const formrating = useSelector(state => state.defForm.rating);\n  const formComment = useSelector(state => state.defForm.Comment);\n  const [checkedState, setCheckedState] = useState(new Array(itemdata.length).fill(false));\n  const [checkRating, setCheckRating] = useState(new Array(itemdata.length).fill(0));\n\n  const handleOnChange = position => {\n    const updatedCheckedState = checkedState.map((item, index) => index === position ? !item : item);\n    setCheckedState(updatedCheckedState);\n  };\n\n  const SumitHandler = e => {\n    e.preventDefault();\n    let ratingArr = {},\n        itemArr = [];\n    console.log(checkRating);\n\n    for (let i = 0; i < itemdata.length; i++) {\n      if (checkRating > 0) {\n        ratingArr[itemdata[i]] = checkRating[i];\n      }\n\n      if (checkedState[i] === true) {\n        itemArr.push(itemdata[i]);\n      }\n    }\n\n    console.log(ratingArr);\n    let defaultData = {\n      DidLike: formlike === \"Yes\" ? true : false,\n      Rating: formrating,\n      Comment: formComment,\n      UserId: JSON.parse(sessionStorage.getItem('userInfo'))._id,\n      RatingFoods: ratingArr,\n      LikeFoods: itemArr\n    };\n    fetch(process.env.REACT_APP_BACKEND + \"/form/form/\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(defaultData)\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: SumitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"toppings-list\",\n        children: itemdata !== undefined && itemdata !== null && itemdata.length !== 0 && itemdata.map((val, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"toppings-list-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: `custom-checkbox-${index}`,\n                  name: val,\n                  value: val,\n                  checked: checkedState[index],\n                  onChange: () => handleOnChange(index)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `custom-checkbox-${index}`,\n                  children: val\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"toppings-list\",\n        children: itemdata !== null && itemdata !== undefined && itemdata.length !== 0 && itemdata.map((val, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: val\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n              count: 5,\n              onChange: value => {\n                const updatedRate = checkRating.map((item, ind) => index === ind ? value : item);\n                setCheckRating(updatedRate);\n              },\n              size: 24,\n              isHalf: true,\n              emptyIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 48\n              }, this),\n              halfIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-star-half-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 47\n              }, this),\n              fullIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 47\n              }, this),\n              activeColor: \"#ffd700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-danger\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Review2, \"jhNjI9YEhOeDK78LLBOy1ZN7qFY=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Review2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Review2\");","map":{"version":3,"sources":["C:/Auth/Institute-Food-Review-System-menu-team/Institute-Food-Review-System-menu-team/frontend/src/Components/From/Review2.js"],"names":["Navbar","useSelector","useState","ReactStars","Review2","itemdata","state","foodItem","data","formlike","defForm","like","formrating","rating","formComment","Comment","checkedState","setCheckedState","Array","length","fill","checkRating","setCheckRating","handleOnChange","position","updatedCheckedState","map","item","index","SumitHandler","e","preventDefault","ratingArr","itemArr","console","log","i","push","defaultData","DidLike","Rating","UserId","JSON","parse","sessionStorage","getItem","_id","RatingFoods","LikeFoods","fetch","process","env","REACT_APP_BACKEND","method","headers","body","stringify","then","res","json","catch","err","undefined","val","value","updatedRate","ind"],"mappings":"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","sourcesContent":["import Navbar from \"../Navbar\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useState } from \"react\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\n\r\nexport default function Review2(){\r\n    const itemdata = useSelector(state => state.foodItem.data);\r\n    const formlike = useSelector(state => state.defForm.like)\r\n    const formrating = useSelector(state => state.defForm.rating)\r\n    const formComment = useSelector(state => state.defForm.Comment)\r\n    const [checkedState, setCheckedState] = useState(\r\n        new Array(itemdata.length).fill(false)\r\n      );\r\n    const [checkRating , setCheckRating] = useState(\r\n        new Array(itemdata.length).fill(0)\r\n    )\r\n\r\n\r\n\r\n    const handleOnChange = (position) => {\r\n        const updatedCheckedState = checkedState.map((item, index) =>\r\n          index === position ? !item : item\r\n        );\r\n        setCheckedState(updatedCheckedState);\r\n    }\r\n\r\n    const SumitHandler = (e) =>{\r\n        e.preventDefault();\r\n        let ratingArr = {} , itemArr = [];\r\n        console.log(checkRating)\r\n        for(let i=0; i<itemdata.length; i++){\r\n            if(checkRating > 0){\r\n                ratingArr[itemdata[i]] = checkRating[i];\r\n            }\r\n            if(checkedState[i] === true){\r\n                itemArr.push(itemdata[i])\r\n            }\r\n        }\r\n        console.log(ratingArr);\r\n        \r\n        let defaultData = {\r\n            DidLike : formlike === \"Yes\" ? true : false,\r\n            Rating : formrating,\r\n            Comment : formComment,\r\n            UserId : JSON.parse(sessionStorage.getItem('userInfo'))._id,\r\n            RatingFoods : ratingArr,\r\n            LikeFoods : itemArr\r\n        }\r\n        fetch(process.env.REACT_APP_BACKEND + \"/form/form/\", {\r\n            method : 'POST',\r\n            headers : {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body : JSON.stringify(defaultData)\r\n        }).then(res => res.json())\r\n        .then((res) => {\r\n            console.log(res)\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <form onSubmit={SumitHandler}>\r\n                <ul className=\"toppings-list\">\r\n                    {itemdata !== undefined && itemdata !== null && itemdata.length !==0 && itemdata.map((val ,index) => {\r\n                        return (\r\n                            <li key={index}>\r\n                                <div className=\"toppings-list-item\">\r\n                                    <div className=\"left-section\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        id={`custom-checkbox-${index}`}\r\n                                        name={val}\r\n                                        value={val}\r\n                                        checked={checkedState[index]}\r\n                                        onChange={() => handleOnChange(index)}\r\n                                    />\r\n                                    <label htmlFor={`custom-checkbox-${index}`}>{val}</label>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>\r\n                <ul className=\"toppings-list\">\r\n                    {itemdata !== null && itemdata !== undefined && itemdata.length !== 0 && itemdata.map((val , index) =>{\r\n                        return (\r\n                            <li key={index}>\r\n                                <h2>{val}</h2>\r\n                                <ReactStars\r\n                                    count={5}\r\n                                    onChange={(value) => {\r\n                                        const updatedRate = checkRating.map((item , ind) => \r\n                                            index === ind ? value : item\r\n                                        )\r\n                                        setCheckRating(updatedRate)\r\n                                    }}\r\n                                    size={24}\r\n                                    isHalf={true}\r\n                                    emptyIcon={<i className=\"far fa-star\"></i>}\r\n                                    halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\r\n                                    fullIcon={<i className=\"fa fa-star\"></i>}\r\n                                    activeColor=\"#ffd700\"\r\n                                />\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>\r\n                <button type=\"submit\" className=\"btn btn-danger\">\r\n                    Submit\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}